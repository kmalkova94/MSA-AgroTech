### <a name="_b7urdng99y53"></a>**Название задачи: MVP системы мониторинга скота** 
### <a name="_hjk0fkfyohdk"></a>**Автор: Малкова Ксения**
### <a name="_uanumrh8zrui"></a>**Дата: 12 октября 2025**
### <a name="_3bfxc9a45514"></a>**Функциональные требования**

|**№**|**Действующие лица или системы**|**Use Case**|**Описание**|
| :-: | :- | :- | :- |
| UC1 | Пользователь, датчики, камеры | Мониторинг в реальном времени | Обработка полученных изображений и видеопотока, сигналов с датчиков |
| UC2 | Пользователь, внешние устройства | управление устройствами (кормушки, поилки, фильтры) | Настройка кормушек, поилок, фильтров для воды |
| UC3 | Пользователь, аналитика | Сбор данных и предоставление метрик | Сбор и составление метрик, поддержка кастомных метрик |
| UC4 | Пользователь | Синхронизация данных | Синхронизация с центральной системой, работа в отстутствии интернета, восстановление связи |
| UC5 | Пользователь | Аутентификация и авторизация | Аутентификация и авторизация пользователей |
|||||
### <a name="_u8xz25hbrgql"></a>**Нефункциональные требования**

|**№**|**Требование**|
| :-: | :- |
| NFR1 | Отказоустойчивость 99,95% |
| NFR2 | Расширяемость функционала без изменений существующего |
| NFR3 | Высокая производительность, оповещение о нештатной ситуации не более чем через 5 секунд после возникновения инцидента |
| NFR4 | Реагирование системы видеоаналитики в реальном времени (миллисекунды) |
| NFR5 | Камеры должны уметь снимать в темное время суток |
|||
### <a name="_qmphm5d6rvi3"></a>**Решение**
Диаграмма контекста С1 - С1.puml
Система мониторинга разделена на центральный сервер и фермы (агенты). Данная архитектура обеспечивает масштабируемость, можно добавлять множество ферм.
Между центральным сервером и фермами предполагается резервный канал связи 4G/LTE.
Обработка данных с датчиков производится локально, за счет чего обеспечивается быстрое реагирование.
Для обработки видеопотока используется центральная нейросеть.
Фермы могут работать автономно в случае потери связи с центральным сервером. 
В диаграмме выделены основные типы пользователей относительно их взаимодействию с функционалом системы. Это позволяет убрать избыточную детализацию на начальном этапе и сфокусироваться на основных функциях системы.
Система мониторинга взаимодействует с аналитическим модулем Цифровой платформы АгроПром X для передачи аналитических данных для долгосрочного хранения.
Предполагается, что на начальном этапе система будет использовать внешний провайдер для отправки уведомлений пользователям (push, sms, email).
Внешние источники данных (датчики, камеры) напрямую подключаются к системе.


### <a name="_bjrr7veeh80c"></a>**Альтернативы**
В альтернативном решении используются локальные нейросети для обработки видеопотока, что обеспечивает большую отказоустойчивость в условиях нестабильного WiFi.

### <a name="_bjrr7veeh80c"></a>**Недостатки**
Использование локальной нейросети требует более сложной инфраструктуры: полноценные сервера на фермах с резервным питанием и системами охлаждения, а также локальными ИТ-специалистами. Также возрастает стоимость инфраструктуры на фермах.

На этапе MVP был сделан выбор в пользу решения с использованием центральной нейросети, так как оно обеспечивает более быстрый запуск системы мониторинга с меньшими затратами и более удобной проверкой гипотез. 

