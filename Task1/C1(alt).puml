@startuml Альтернативная контекстная диаграмма системы мониторинга скота
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Container.puml

title Контекстная диаграмма системы мониторинга скота

Person(директор, "Директор хозяйства")
Person(управляющий, "Управляющий животноводческим комплексом")
Person(животновод, "Животновод")
Person(оператор, "Оператор")
Person(зоотехник, "Зоотехник")
Person(ветеринар, "Ветеринар")

System(PigMonitoringSystem, "Система мониторинга скота", "Управление животноводческим комплексом")
System_Ext(аналитика, "Аналитический модуль")
System_Ext(уведомления, "Провайдер отправки уведомлений")
System_Boundary(iot, "Внешние источники данных"){
    System_Ext(датчики_животные, "Датчики на животных")
    System_Ext(датчики_загоны, "Датчики на загонах")
    System_Ext(камеры, "Камеры")
}
System_Ext(iot_шлюз, "IoT шлюз", "Агрегация, фильтрация и предварительная обработка данных с внешних источников")

Rel(директор, PigMonitoringSystem, "Получает отчеты по состоянию животноводческого комплекса")
Rel(управляющий, PigMonitoringSystem, "Получает оперативные отчеты, ставит задачи")
Rel(оператор, PigMonitoringSystem, "Настраивает систему, контролирует работу датчиков")
Rel(зоотехник, PigMonitoringSystem, "Настраивает автоматические кормушки и поилки в соответствии с планом, следит за активностью и нормами кормления, мониторит активность животных")
Rel(ветеринар, PigMonitoringSystem, "Следит за показателями здоровья животных")
Rel(животновод, PigMonitoringSystem, "Следит за сигналами, требующими срочного вмешательства")

Rel(iot, iot_шлюз, "Передает данные о месторасположении животных и внешней среде, видеопоток и изображения для анализа")
Rel(iot_шлюз, PigMonitoringSystem, "Передает структурированные данные")
Rel(PigMonitoringSystem, аналитика, "Передает агрегированные и структурированные данные для долгосрочного анализа")
Rel(PigMonitoringSystem, уведомления, "Передает текст сообщений и получателя")

@enduml